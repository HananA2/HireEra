{% extends "base.html" %}
{% load static %}

{% block extra_styles %}
<link rel="stylesheet" href="{% static 'applications/css/apply.css' %}">
{% endblock %}


{% block title %}HireEra â€“ Applay {% endblock %}

{% block navbar %}
    {% include "core/navbar.html" %}
{% endblock %}

{% block content %}

<div class="container mt-5" style="max-width: 650px;">

    <h3 class="fw-bold mb-4">Apply for {{ job.title }}</h3>

    <form method="POST" enctype="multipart/form-data" class="apply-form card p-4 shadow-sm">
        {% csrf_token %}

        <!-- {% if form.errors %}
        <div class="error-box mb-3">
            <ul class="error-list">
                {% for field in form %}
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %} -->

        <label class="form-label fw-bold">Full name</label>
        <input type="text" name="full_name" class="form-control mb-1 
            {% if form.full_name.errors %}is-invalid{% endif %}"
            value="{{ request.user.first_name }} {{ request.user.last_name }}">

        {% for error in form.full_name.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}

        <label class="form-label fw-bold">Email</label>
        <input type="email" name="email" class="form-control mb-3"
               value="{{ request.user.email }}">

        <label class="form-label fw-bold">Phone number</label>
        <input type="text" name="phone" placeholder="05xxxxxxxx"
               class="form-control mb-1 
               {% if form.phone.errors %}is-invalid{% endif %}">
               
        {% for error in form.phone.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
        {% endfor %}
               
        <label class="form-label fw-bold">Upload your resume (PDF)</label>
        <input type="file" name="resume" accept=".pdf" class="form-control mb-4">

        <button class="btn btn-primary w-100">Submit application</button>
    </form>

</div>

{% endblock %}
