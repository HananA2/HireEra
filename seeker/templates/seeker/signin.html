{% extends "base.html" %}
{% load static %}

{% block title %}Sign In – HireEra{% endblock %}

{% block content %}

<div class="d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="card shadow-sm p-4" style="width: 430px; border-radius: 18px;">

        <h3 class="fw-bold text-center text-primary">Welcome Back</h3>
        <p class="text-center text-muted mb-4">Sign in to continue your job search</p>

        <!-- Show Django messages -->
        <!-- {% if messages %}
            {% for msg in messages %}
                <div class="alert alert-danger py-2">{{ msg }}</div>
            {% endfor %}
        {% endif %} -->

        <form method="POST" action="{% url 'seeker:signin' %}">
            {% csrf_token %}

            <!-- Username -->
            <label class="fw-semibold mb-1">Username</label>
            <input type="text"
                   name="username"
                   class="form-control {% if form.errors %}is-invalid{% endif %}"
                   placeholder="Enter username"
                   value="{{ form.data.username|default:'' }}"
                   required>

            {% if form.errors.username %}
            <small class="text-danger d-flex align-items-center mt-1">
                <i class="fa-solid fa-circle-exclamation me-1"></i>
                {{ form.errors.username.0 }}
            </small>
            {% endif %}

            <!-- Password -->
            <label class="fw-semibold mt-4 mb-1">Password</label>
            <input type="password"
                   name="password"
                   class="form-control {% if form.errors %}is-invalid{% endif %}"
                   placeholder="Enter password"
                   required>

            {% if form.errors.password %}
            <small class="text-danger d-flex align-items-center mt-1">
                <i class="fa-solid fa-circle-exclamation me-1"></i>
                {{ form.errors.password.0 }}
            </small>
            {% endif %}

            <!-- Non-field errors (from clean method) -->
            {% if form.non_field_errors %}
            <small class="text-danger d-flex align-items-center mt-2">
                <i class="fa-solid fa-circle-exclamation me-1"></i>
                {{ form.non_field_errors.0 }}
            </small>
            {% endif %}

            <!-- Submit -->
            <button type="submit" class="btn btn-primary w-100 py-2 fw-bold mt-4">
                Sign In →
            </button>
        </form>

        <p class="text-center mt-3">
            <span class="text-muted">Don't have an account?</span>
            <a href="{% url 'seeker:signup' %}" class="fw-semibold">Create one</a>
        </p>

    </div>
</div>

{% endblock %}
