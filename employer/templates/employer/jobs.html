{% extends "employer/base_employer.html" %}

{% block topbar_title %}Jobs{% endblock %}

{% block employer_content %}

<section class="jobs-page-header">
  <div class="jobs-title-row">
    <h1>Jobs</h1>
    <div class="jobs-tabs">
      <button class="jobs-tab jobs-tab--active" type="button">All jobs</button>
      <button class="jobs-tab" type="button">Tags</button>
    </div>
  </div>

  <a href="{% url 'employer:post_job' %}">
    <button class="jobs-post-btn" type="button">
      Post a job
    </button>
  </a>
</section>

<section class="jobs-filters-row">
  <button class="jobs-filter-chip jobs-filter-chip--primary" type="button">
    <span class="jobs-filter-count">({{ jobs|length }})</span>
    <span>Status</span>
    <span>▾</span>
  </button>

  <button class="jobs-filter-chip" type="button">
    <span>Title</span>
    <span>▾</span>
  </button>

  <button class="jobs-filter-chip" type="button">
    <span>Location</span>
    <span>▾</span>
  </button>

  <span class="jobs-results-count">{{ jobs|length }} results</span>
</section>

{% if jobs %}
  <!-- لو فيه وظائف: جدول يعرض الوظائف من الداتابيس -->
  <section class="jobs-list-table">
    <table class="jobs-table">
      <thead>
        <tr>
          <th>Job title</th>
          <th>Location</th>
          <th>Status</th>
          <th>Applicants</th>
          <th style="text-align:right;">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for job in jobs %}
        <tr>
          <td>{{ job.title }}</td>
          <td style="color:#6b7280;">{{ job.location }}</td>
          <td>
            <span class="status-badge status-active">
              {{ job.location_type|title }}
            </span>
          </td>
          <td>0</td>
          <td style="text-align:right;">
            <a href="{% url 'employer:delete_job' job.id %}"
               style="font-size:12px;color:#dc2626;text-decoration:none;"
               onclick="return confirm('Are you sure you want to delete this job?');">
              Delete
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
{% else %}
  <!-- لو ما فيه ولا وظيفة: حالة فاضية مثل Indeed -->
  <section class="jobs-hero">
    <div class="jobs-hero-illustration"></div>

    <h2 class="jobs-hero-title">
      Get up to 4x applications. Post your first job directly on HireEra.
    </h2>

    <p class="jobs-hero-subtitle">
      HireEra Apply brings you up to four times more applications than redirecting candidates
      to external career sites. Make it simpler. Hire faster.
    </p>

    <a href="{% url 'employer:post_job' %}">
      <button type="button" class="jobs-hero-btn">
        Post a job
      </button>
    </a>
  </section>
{% endif %}

{% endblock %}
